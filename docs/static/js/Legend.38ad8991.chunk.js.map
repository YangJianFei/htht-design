{"version":3,"sources":["components/legend/demo/codes.md","components/legend/demo/index.jsx","components/legend/demo/horizontal/index.jsx","components/legend/demo/portrait/index.jsx","components/legend/demo/demos.jsx","components/legend/index.jsx","site/template/doc_content/index.jsx","site/template/highlight/index.jsx","site/template/code_meta/index.jsx","site/template/api_table/index.jsx","site/template/demo_content/index.jsx"],"names":["module","exports","Legend","state","width","height","hash","createHash","ctx","document","querySelector","this","getContext","dataSource","props","isHorizontal","isLableOnLine","isGradient","title","value","valueMaxLength","color","titleLength","length","colorLength","xNum","xStep","xS","yS","yStep","titleFontSize","parseInt","valueFontSize","setState","yNum","font","fillText","i","grd","createLinearGradient","addColorStop","fillStyle","fillRect","className","style","React","Component","LegendHorizontal","LegendPortrait","codes","axios","get","demoCodes","then","res","data","split","filter","Boolean","map","code","replace","trim","mainDesc","desc","main","demoDesc","demo","apiData","handleArrs","demos","hthtPrefix","varibles","DocContent","children","id","Highlight","nodes","el","querySelectorAll","hljs","highlightBlock","setEl","bind","highlightCode","Element","element","innerHTML","ref","dangerouslySetInnerHTML","__html","defaultProps","CodeMeta","useState","copyTips","setCopyTips","copyClass","setCopyClass","item","detail","data-clipboard-text","onSuccess","onMouseLeave","onClick","e","getParents","target","classList","toggle","window","getSelection","removeAllRanges","selection","empty","ApiTable","columns","dataIndex","key","render","tags","Array","isArray","tag","index","pagination","MainContent","name","type","component","getElementById"],"mappings":"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","file":"static/js/Legend.38ad8991.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/codes.1883370f.md\";","import React from 'react'\nimport {createHash} from \"../../../utils/utils\";\n\nclass Legend extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      width: 150,\n      height: 200,\n    }\n    this.hash = createHash(6)\n  }\n\n  componentDidMount() {\n    const c = document.querySelector(`.myLegend-${this.hash}`)\n    const ctx = c.getContext(\"2d\");\n\n    const {dataSource} = this.props\n    const {isHorizontal, isLableOnLine,isGradient, title, value, valueMaxLength, color} = dataSource\n\n\n\n    const titleLength = title.length// 标题字符数\n    const colorLength = isGradient?color.length-1:color.length// 颜色数量\n\n\n    if (isHorizontal) {\n      const xNum = colorLength + 1// X方向份数\n      const yNum = 5.5// y方向份数\n      const width = xNum * 20\n      const height = yNum * 20\n\n      const xStep = width / xNum\n      const yStep = height / yNum\n\n      let xS = xStep / 2\n      let yS = yStep * 1.5\n      // eslint-disable-next-line radix\n      const titleFontSize = parseInt(xStep * (xNum - 1) / titleLength)\n      // eslint-disable-next-line radix\n      const valueFontSize = parseInt(xStep)\n\n      this.setState({\n        width,\n        height,\n      }, () => {\n        ctx.font = `${titleFontSize}px Arial`;\n        // ctx.textAlign='center'\n        ctx.fillText(title, xS, yS);\n        yS += (yStep / 2)\n\n\n        for (let i = 0; i < colorLength; i++) {\n          if (isGradient) {\n            const grd=ctx.createLinearGradient(xS,yS,xS + xStep,yS);\n            grd.addColorStop(0,color[i]);\n            grd.addColorStop(1,color[i+1]);\n            ctx.fillStyle=grd;\n          }else {\n            ctx.fillStyle = color[i];\n          }\n          ctx.fillRect(xS, yS, xStep, yStep * 1.5);\n          xS += xStep\n\n        }\n\n        ctx.font = `${valueFontSize}px Arial`;\n        if (isLableOnLine) {\n          xS = xStep * 1.25\n          yS = yStep * 5\n          for (let i = 0; i < value.length; i++) {\n            ctx.fillText(value[i], xS, yS);\n            xS += xStep\n          }\n        } else {\n          xS = xStep * 0.75\n          yS = yStep * 5\n          for (let i = 0; i < value.length; i++) {\n            ctx.fillText(value[i], xS, yS);\n            xS += xStep\n          }\n        }\n      })\n    } else {\n      const xNum = valueMaxLength + 3// X方向份数\n      const yNum = colorLength + 2.5// y方向份数\n      const width = xNum * 20\n      const height = yNum * 20\n\n      const xStep = width / xNum\n      const yStep = height / yNum\n      let xS = xStep / 2\n      let yS = yStep * 1.5\n      // eslint-disable-next-line radix\n      const titleFontSize = parseInt(xStep * (xNum - 1) / titleLength)\n      // eslint-disable-next-line radix\n      const valueFontSize = parseInt(yStep)\n\n      this.setState({\n        width,\n        height,\n      }, () => {\n        ctx.font = `${titleFontSize}px Arial`;\n        ctx.fillText(title, xS, yS);\n        yS += (yStep / 2)\n\n\n        for (let i = 0; i < colorLength; i++) {\n          if (isGradient) {\n            const grd=ctx.createLinearGradient(xS,yS,xS ,yS+ yStep);\n            grd.addColorStop(0,color[i]);\n            grd.addColorStop(1,color[i+1]);\n            ctx.fillStyle=grd;\n          }else {\n            ctx.fillStyle = color[i];\n          }\n          ctx.fillRect(xS, yS, xStep * 1.5, yStep);\n          yS += yStep\n\n        }\n\n        ctx.font = `${valueFontSize}px Arial`;\n        if (isLableOnLine) {\n          xS += (xStep * 2)\n          yS = yStep * 3.5\n          for (let i = 0; i < value.length; i++) {\n            ctx.fillText(value[i], xS, yS);\n            yS += yStep\n          }\n        } else {\n\n          xS += (xStep * 2)\n          yS = yStep * 3\n          for (let i = 0; i < value.length; i++) {\n            ctx.fillText(value[i], xS, yS);\n            yS += yStep\n          }\n        }\n      })\n    }\n  }\n\n\n  render() {\n    const {width, height} = this.state;\n    return (\n      <div className=\"htht-legend\">\n        <canvas className={`myLegend-${this.hash}`} width={width} height={height}\n                style={{\"border\": \"1px solid #000000\"}}/>\n      </div>\n    )\n  }\n}\n\nexport default Legend\n","import React from 'react';\n\n\nimport Legend from '../index';\n\nconst dataSource = {\n  isHorizontal: true,\n  isLableOnLine: false,\n  isGradient: false,\n  title: '温度（℃）',\n  value: [1, 2, 3, 4, 5],\n  valueMaxLength: 1,\n  color: [\n    'rgba(200,200,200,1)',\n    'rgba(190,190,190,1)',\n    'rgba(130,130,130,1)',\n    'rgba(60,60,60,1)',\n    'rgba(0,0,0,1)'],\n};\n\nfunction LegendHorizontal() {\n  return <Legend dataSource={dataSource}/>;\n}\n\nexport default LegendHorizontal;\n","import React from 'react'\n\nimport Legend from '../index'\n\nconst dataSource = {\n  isHorizontal: false,\n  isLableOnLine: true,\n  isGradient: true,\n  title: '温度（℃）',\n  value: [1, 2, 3, 4],\n  valueMaxLength: 1,\n  color: [\n    'rgba(200,200,200,1)',\n    'rgba(190,190,190,1)',\n    'rgba(130,130,130,1)',\n    'rgba(60,60,60,1)',\n    'rgba(0,0,0,1)',\n    'rgba(0,0,0,1)'\n  ]\n}\n\nfunction LegendPortrait() {\n  return <Legend dataSource={dataSource} />\n}\n\nexport default LegendPortrait\n","import LegendHorizontal from './horizontal'\nimport LegendPortrait from './portrait'\n\n\nexport default [LegendHorizontal, LegendPortrait]\n","import React from 'react'\nimport axios from 'axios'\nimport MainContent from '../../site/template/demo_content'\nimport desc from './desc.json'\nimport demoCodes from './demo/codes.md'\nimport demos from './demo/demos'\nimport { handleArrs } from '../../utils/utils'\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      codes: ''\n    }\n  }\n\n  componentDidMount() {\n    axios.get(demoCodes).then(res => {\n      const { data } = res\n      let codes = data.split('---').filter(Boolean)\n      codes = codes.map(code => {\n        return code\n          .replace(/```jsx/, '')\n          .replace(/```/, '')\n          .trim()\n      })\n      this.setState({ codes })\n    })\n  }\n\n  render() {\n    const { codes } = this.state\n    const mainDesc = desc.main\n    const demoDesc = desc.demo\n    const { apiData } = desc\n    const data = handleArrs(demos, codes, demoDesc)\n    return <MainContent data={data} mainDesc={mainDesc} apiData={apiData} />\n  }\n}\n","import React from 'react'\nimport { varibles } from '../../../config'\n\nconst { hthtPrefix } = varibles\n\nfunction DocContent(props) {\n  const { children } = props\n  return (\n    <div id={`${hthtPrefix}-main-content`}>\n      <div className=\"content-wrapper\">{children}</div>\n    </div>\n  )\n}\n\nexport default DocContent\n","import React from 'react'\nimport hljs from 'highlight.js'\n\nclass Highlight extends React.Component {\n  constructor(props) {\n    super(props)\n    this.setEl = this.setEl.bind(this)\n  }\n\n  componentDidMount() {\n    this.highlightCode()\n  }\n\n  componentDidUpdate() {\n    this.highlightCode()\n  }\n\n  setEl(el) {\n    this.el = el\n  }\n\n  highlightCode = () => {\n    const nodes = this.el.querySelectorAll('pre code')\n    for (let i = 0; i < nodes.length; i++) {\n      hljs.highlightBlock(nodes[i])\n    }\n  }\n\n  render() {\n    const { children, className, element: Element, innerHTML } = this.props\n    const props = { ref: this.setEl, className }\n\n    if (innerHTML) {\n      props.dangerouslySetInnerHTML = { __html: children }\n      if (Element) {\n        return <Element {...props} />\n      }\n      return <div {...props} />\n    }\n\n    if (Element) {\n      return <Element {...props}>{children}</Element>\n    }\n    return (\n      <pre ref={this.setEl}>\n        <code className={className}>{children}</code>\n      </pre>\n    )\n  }\n}\n\nHighlight.defaultProps = {\n  innerHTML: false,\n  className: null,\n  element: null\n}\n\nexport default Highlight\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { useState } from 'react'\nimport Clipboard from 'react-clipboard.js'\nimport { Tooltip } from 'antd'\nimport { getParents } from '../../../utils/utils'\n\nfunction CodeMeta (props) {\n  const [copyTips, setCopyTips] = useState('复制代码')\n  const [copyClass, setCopyClass] = useState('icon-copy')\n\n  // 复制代码成功\n  const onSuccess = () => {\n    setCopyTips('复制成功')\n    setCopyClass('icon-done')\n  }\n\n  // 鼠标离开复制按钮\n  const leaveCopyBtn = () => {\n    setCopyTips('复制代码')\n    setCopyClass('icon-copy')\n  }\n\n  // 收缩展示代码\n  const toggleCode = e => {\n    const codeBox = getParents(e.target, '.code-box')\n    codeBox.classList.toggle('expend')\n    // eslint-disable-next-line no-unused-expressions\n    window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty()\n  }\n\n  const { item } = props\n  let { desc } = item\n  const defaultDesc = {\n    title: '',\n    detail: ''\n  }\n\n  if (!desc) {\n    desc = defaultDesc\n  }\n\n  const { title } = desc // demo 标题\n  const { detail } = desc // demo 详情\n\n  return (\n    <section className='code-box-meta'>\n      <div className='code-box-title'>\n        <b>{title}</b>\n      </div>\n      <div className='code-box-description'>\n        <div>\n          <p>{detail}</p>\n        </div>\n      </div>\n      <div className='code-box-actions'>\n        <Clipboard data-clipboard-text={item.code} onSuccess={onSuccess}>\n          <Tooltip title={copyTips}>\n            <i className={copyClass} onMouseLeave={leaveCopyBtn} />\n          </Tooltip>\n        </Clipboard>\n\n        <Tooltip title='展开代码'>\n          <i className='icon-expend' onClick={toggleCode} />\n        </Tooltip>\n      </div>\n    </section>\n  )\n}\n\nexport default CodeMeta\n","import React from 'react'\nimport { Table, Tag } from 'antd'\n\nclass ApiTable extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.columns = [\n      {\n        title: '参数',\n        dataIndex: 'param',\n        key: 'param',\n        render: value => {\n          const className = value === 'API' || value === 'FormKey' ? 'title' : ''\n          return <span className={className}>{value}</span>\n        }\n      },\n      {\n        title: '说明',\n        dataIndex: 'explain',\n        key: 'explain'\n      },\n      {\n        title: '类型',\n        key: 'type',\n        dataIndex: 'type',\n        render: tags => (\n          <span>\n            {Array.isArray(tags) &&\n              tags.map((tag, index) => {\n                let color\n                switch (index) {\n                  case 0:\n                    color = '#2db7f5'\n                    break\n                  case 1:\n                    color = '#f50'\n                    break\n                  case 2:\n                    color = '#87d068'\n                    break\n                  default:\n                    color = '#2db7f5'\n                    break\n                }\n                return (\n                  <Tag color={color} key={index}>\n                    {tag}\n                  </Tag>\n                )\n              })}\n          </span>\n        )\n      },\n      {\n        title: '默认值',\n        dataIndex: 'default',\n        key: 'default'\n      }\n    ]\n  }\n\n  render() {\n    const { dataSource } = this.props\n    return (\n      <div className=\"api-container\">\n        <Table columns={this.columns} dataSource={dataSource} pagination={false} />\n      </div>\n    )\n  }\n}\n\nexport default ApiTable\n","/* eslint-disable react/no-array-index-key */\nimport React from 'react'\nimport { Icon, BackTop } from 'antd'\nimport Highlight from '../highlight'\nimport DocContent from '../doc_content'\nimport CodeMeta from '../code_meta'\nimport ApiTable from '../api_table'\nimport './style.scss'\n\nfunction MainContent(props) {\n  const { mainDesc, data, apiData } = props\n\n  return (\n    <DocContent>\n      <article>\n        <section className=\"content-title\">\n          <h1>\n            {mainDesc.value}\n            <span>{mainDesc.name}</span>\n          </h1>\n          <p className=\"main-desc\">{mainDesc.detail}</p>\n          <h2>\n            代码演示\n            <Icon type=\"appstore\" />\n          </h2>\n        </section>\n        <div className=\"code-box-wrapper\">\n          {data.map((item, index) => {\n            return (\n              <section className=\"code-box\" key={index}>\n                <section className=\"code-box-demo\">{<item.component />}</section>\n                <CodeMeta item={item} />\n                <section className=\"highlight-wrapper\">\n                  <div className=\"highlight\">\n                    <Highlight className=\"javascript,js,jsx\">{item.code}</Highlight>\n                  </div>\n                </section>\n              </section>\n            )\n          })}\n        </div>\n        <ApiTable dataSource={apiData} />\n      </article>\n      <BackTop target={() => document.getElementById('htht-main-content')} />\n    </DocContent>\n  )\n}\n\nexport default MainContent\n"],"sourceRoot":""}