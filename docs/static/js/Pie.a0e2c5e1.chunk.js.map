{"version":3,"sources":["components/chart_pie/demo/codes.md","components/chart_pie/demo/index.jsx","components/chart_pie/demo/normal/index.jsx","components/chart_pie/demo/roseType/index.jsx","components/chart_pie/demo/roseType_hollow/index.jsx","components/chart_pie/demo/colorful/index.jsx","components/chart_pie/demo/demos.jsx","components/chart_pie/index.jsx","site/template/doc_content/index.jsx","site/template/highlight/index.jsx","site/template/code_meta/index.jsx","site/template/api_table/index.jsx","site/template/demo_content/index.jsx","../node_modules/echarts/lib/chart/pie.js","../node_modules/echarts/lib/chart/pie/PieSeries.js","../node_modules/echarts/lib/chart/helper/createListSimply.js","../node_modules/echarts/lib/component/helper/selectableMixin.js","../node_modules/echarts/lib/chart/pie/PieView.js","../node_modules/echarts/lib/action/createDataSelectAction.js","../node_modules/echarts/lib/visual/dataColor.js","../node_modules/echarts/lib/chart/pie/pieLayout.js","../node_modules/echarts/lib/chart/pie/labelLayout.js","../node_modules/echarts/lib/processor/dataFilter.js"],"names":["module","exports","ChartPie","props","state","hash","createHash","option","backgroundColor","title","text","left","top","textStyle","color","tooltip","trigger","formatter","series","name","type","radius","center","roseType","label","normal","labelLine","lineStyle","smooth","length","length2","itemStyle","shadowBlur","shadowColor","animationType","animationEasing","animationDelay","Math","random","this","dataSource","myChart","echarts","init","document","getElementById","newOption","deepObjectMerge","data","console","warn","setOption","screenChange","window","addEventListener","chartPie","resize","className","id","React","Component","value","normalPie","RoseType","RoseTypeHollow","ColorfulPie","visualMap","show","min","max","inRange","colorLightness","legend","orient","bottom","padding","itemGap","itemWidth","itemHeight","fontSize","emphasis","shadowOffsetX","codes","axios","get","demoCodes","then","res","split","filter","Boolean","map","code","replace","trim","setState","mainDesc","desc","main","demoDesc","demo","handleArrs","demos","hthtPrefix","varibles","DocContent","children","Highlight","nodes","el","querySelectorAll","i","hljs","highlightBlock","setEl","bind","highlightCode","Element","element","innerHTML","ref","dangerouslySetInnerHTML","__html","defaultProps","CodeMeta","useState","copyTips","setCopyTips","copyClass","setCopyClass","item","detail","data-clipboard-text","onSuccess","onMouseLeave","onClick","e","getParents","target","classList","toggle","getSelection","removeAllRanges","selection","empty","ApiTable","columns","dataIndex","key","render","tags","Array","isArray","tag","index","pagination","MainContent","apiData","component","zrUtil","createDataSelectAction","dataColor","pieLayout","dataFilter","event","method","registerVisual","registerLayout","curry","registerProcessor","createListSimply","modelUtil","getPercentWithPrecision","dataSelectableMixin","retrieveRawAttr","PieSeries","extendSeriesModel","superApply","arguments","legendDataProvider","getRawData","updateSelectedMap","_createSelectableList","_defaultLabelLine","mergeOption","superCall","getInitialData","ecModel","valueDim","mapDimension","targetList","len","count","push","getName","selected","getDataParams","getData","params","valueList","each","percent","hostModel","$vars","defaultEmphasis","labelLineNormalOpt","labelLineEmphasisOpt","defaultOption","zlevel","z","legendHoverLink","hoverAnimation","clockwise","startAngle","minAngle","minShowLabelAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","stillShowZeroSum","rotate","position","width","borderWidth","animationTypeUpdate","mixin","_default","createDimensions","List","_util","extend","seriesModel","opt","nameList","coordDimensions","source","getSource","dimensionsInfo","list","initData","_targetList","slice","_selectTargetMap","reduce","targetMap","set","createHashMap","select","unSelect","toggleSelected","isSelected","graphic","ChartView","updateDataSelected","uid","hasAnimation","api","dispatchAction","from","seriesId","idx","toggleItemSelected","getItemGraphicEl","getItemLayout","layout","midAngle","endAngle","offset","cos","sin","animate","when","start","attr","PiePiece","Group","call","sector","Sector","z2","polyline","Polyline","Text","add","updateData","piePieceProto","prototype","firstCreate","childAt","labelText","itemModel","getItemModel","sectorShape","getShallow","setShape","shape","r","r0","initProps","updateProps","visualColor","getItemVisual","useStyle","defaults","lineJoin","fill","getModel","getItemStyle","hoverStyle","cursorStyle","withAnimation","_updateLabel","highDownOnUpdate","isAnimationEnabled","fromState","toState","ignore","hoverIgnore","stopAnimation","animateTo","normalIgnore","setHoverStyle","labelLayout","isNaN","x","y","targetLineShape","points","linePoints","targetTextStyle","style","rotation","origin","labelModel","labelHoverModel","labelLineModel","labelLineHoverModel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","autoColor","useInsideStyle","inside","textAlign","textVerticalAlign","verticalAlign","opacity","setStyle","stroke","getLineStyle","inherits","sectorGroup","_sectorGroup","payload","oldData","_data","group","isFirstRender","onSectorClick","selectedMode","diff","piePiece","eachChild","child","on","setItemGraphicEl","update","newIdx","oldIdx","off","remove","execute","s","getWidth","getHeight","removeClipPath","setClipPath","_createClipPath","cx","cy","dispose","cb","clipPath","PI","containPoint","point","itemLayout","dx","dy","sqrt","seriesType","actionInfos","actionInfo","registerAction","eachComponent","mainType","subType","query","getTargetSeries","paletteScope","seiresModelMap","eachSeriesByType","__paletteScope","reset","dataAll","idxMap","rawIdx","getRawIndex","filteredIdx","singleDataColor","singleDataBorderColor","setItemVisual","getColorFromPalette","borderColor","_number","parsePercent","linearMap","PI2","RADIAN","height","size","validDataCount","sum","getSum","unitRadian","extent","getDataExtent","restAngle","valueSumLargerThanMinAngle","currentAngle","dir","angle","setItemLayout","NaN","textContain","adjustSingleSide","viewWidth","viewHeight","shiftDown","end","delta","j","shiftUp","changeX","isDownList","lastDeltaX","Number","MAX_VALUE","l","deltaY","abs","len2","deltaX","sort","a","b","lastY","upList","downList","isPositionCenter","labelLayoutList","hasLabelRotate","minShowLabelRadian","labelPosition","labelLineLen","labelLineLen2","textX","textY","isLabelInside","x1","y1","x2","y2","x3","labelRotate","font","getFont","getFormattedLabel","textRect","getBoundingRect","leftList","rightList","dist","avoidOverlap","legendModels","findComponents","filterSelf"],"mappings":"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","file":"static/js/Pie.a0e2c5e1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/codes.dafc1aa3.md\";","import React from 'react'\nimport echarts from 'echarts/lib/echarts'\nimport 'echarts/lib/chart/pie'\nimport 'echarts/lib/component/tooltip'\nimport 'echarts/lib/component/title'\nimport { deepObjectMerge, createHash } from '../../../utils/utils'\n\nclass ChartPie extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.hash = createHash(6)\n    this.option = {\n      backgroundColor: '#2c343c',\n\n      title: {\n        text: 'This is a Pie!',\n        left: 'center',\n        top: 20,\n        textStyle: {\n          color: '#ccc'\n        }\n      },\n\n      tooltip: {\n        trigger: 'item',\n        formatter: '{a} <br/>{b} : {c} ({d}%)'\n      },\n\n      color: '#c23531',\n      series: [\n        {\n          name: '访问来源',\n          type: 'pie',\n          radius: '55%',\n          center: ['50%', '55%'],\n          roseType: 'radius',\n          label: {\n            normal: {\n              textStyle: {\n                color: 'rgba(255, 255, 255, 0.3)'\n              }\n            }\n          },\n          labelLine: {\n            normal: {\n              lineStyle: {\n                color: 'rgba(255, 255, 255, 0.3)'\n              },\n              smooth: 0.2,\n              length: 10,\n              length2: 20\n            }\n          },\n          itemStyle: {\n            normal: {\n              shadowBlur: 200,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          },\n\n          animationType: 'scale',\n          animationEasing: 'elasticOut',\n          animationDelay() {\n            return Math.random() * 200\n          }\n        }\n      ]\n    }\n  }\n\n  componentDidUpdate() {\n    const { dataSource, option } = this.props\n    const myChart = echarts.init(document.getElementById(`htht-chart-pie-${this.hash}`))\n    const newOption = deepObjectMerge(this.option, option)\n\n    newOption.series[0].data = dataSource\n\n    console.warn(newOption)\n    // 绘制图表\n    myChart.setOption(newOption)\n    this.screenChange()\n  }\n\n  /** echants响应屏幕改变 */\n  screenChange() {\n    window.addEventListener('resize', () => {\n      this.chartPie.resize()\n    })\n  }\n\n  render() {\n    return <div className=\"htht-chart-pie\" id={`htht-chart-pie-${this.hash}`} />\n  }\n}\n\nexport default ChartPie\n","import React from 'react'\nimport ChartPie from '../index'\n\nconst dataSource = [\n  { value: 335, name: '直接访问' },\n  { value: 310, name: '邮件营销' },\n  { value: 274, name: '联盟广告' },\n  { value: 235, name: '视频广告' },\n  { value: 400, name: '搜索引擎' }\n]\n\nfunction normalPie() {\n  const option = {\n    title: {\n      text: '普通饼图'\n    },\n    color: ['#407fff', '#e15d68', '#00cccd', '#fea763', '#04b71d'],\n    series: [\n      {\n        roseType: false\n      }\n    ]\n  }\n\n  return (\n    <div className=\"basic-pie-demo\">\n      <ChartPie dataSource={dataSource} option={option} />\n    </div>\n  )\n}\n\nexport default normalPie\n","import React from 'react'\nimport ChartPie from '../index'\n\nconst dataSource = [\n  { value: 335, name: '直接访问' },\n  { value: 310, name: '邮件营销' },\n  { value: 274, name: '联盟广告' },\n  { value: 235, name: '视频广告' },\n  { value: 400, name: '搜索引擎' }\n]\n\nfunction RoseType() {\n  const option = {\n    title: {\n      text: '南丁格尔图'\n    },\n    visualMap: {\n      show: false,\n      min: 80,\n      max: 600,\n      inRange: {\n        colorLightness: [0, 1]\n      }\n    }\n  }\n\n  return (\n    <div className=\"basic-pie-demo\">\n      <ChartPie dataSource={dataSource} option={option} />\n    </div>\n  )\n}\n\nexport default RoseType\n","import React from 'react'\nimport ChartPie from '../index'\n\nconst dataSource = [\n  { value: 335, name: '直接访问' },\n  { value: 310, name: '邮件营销' },\n  { value: 274, name: '联盟广告' },\n  { value: 235, name: '视频广告' },\n  { value: 400, name: '搜索引擎' }\n]\n\nfunction RoseTypeHollow() {\n  const option = {\n    title: {\n      text: '镂空南丁格尔图'\n    },\n    color: ['#407fff', '#e15d68', '#00cccd', '#fea763', '#04b71d'],\n    series: [\n      {\n        radius: ['15%', '55%']\n      }\n    ]\n  }\n\n  return (\n    <div className=\"basic-pie-demo\">\n      <ChartPie dataSource={dataSource} option={option} />\n    </div>\n  )\n}\n\nexport default RoseTypeHollow\n","import React from 'react'\nimport ChartPie from '../index'\n\nconst dataSource = [\n  {\n    value: 100,\n    name: '分钟数据文件'\n  },\n  {\n    value: 100,\n    name: '表层海水温度'\n  },\n  {\n    value: 100,\n    name: '表层海水盐度'\n  },\n  {\n    value: 100,\n    name: '历时潮汐'\n  },\n  {\n    value: 100,\n    name: '一分钟潮汐'\n  },\n  {\n    value: 100,\n    name: '气温'\n  },\n  {\n    value: 100,\n    name: '气压'\n  },\n  {\n    value: 100,\n    name: '降水量'\n  },\n  {\n    value: 100,\n    name: '能见度'\n  },\n  {\n    value: 100,\n    name: '相对湿度'\n  },\n  {\n    value: 100,\n    name: '风向'\n  },\n  {\n    value: 100,\n    name: '风速风向'\n  },\n  {\n    value: 100,\n    name: '海浪特征值'\n  }\n]\n\nfunction ColorfulPie() {\n  const option = {\n    title: {\n      text: '多彩饼图'\n    },\n    tooltip: {\n      trigger: 'item',\n      formatter: '{b} : {c}'\n    },\n    legend: {\n      orient: 'vertical',\n      left: 20,\n      bottom: 20,\n      padding: 0,\n      itemGap: 5,\n      itemWidth: 48,\n      itemHeight: 15,\n      textStyle: {\n        color: '#7090C8',\n        fontSize: 13\n      },\n      data: [\n        '分钟数据文件',\n        '表层海水温度',\n        '表层海水盐度',\n        '历时潮汐',\n        '一分钟潮汐',\n        '气温',\n        '气压',\n        '降水量',\n        '能见度',\n        '相对湿度',\n        '风向',\n        '风速风向',\n        '海浪特征值'\n      ]\n    },\n    series: [\n      {\n        name: '接受数据总数',\n        type: 'pie',\n        radius: ['30%', '60%'],\n        center: ['60%', '55%'],\n        color: [\n          '#E13021',\n          '#762174',\n          '#1F0F6B',\n          '#255A9D',\n          '#4192D8',\n          '#41928C',\n          '#409045',\n          '#7DB744',\n          '#FEF751',\n          '#ECBC3F',\n          '#E08D37',\n          '#D4672B',\n          '#D4686B'\n        ],\n        itemStyle: {\n          emphasis: {\n            shadowBlur: 10,\n            shadowOffsetX: 0,\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\n          }\n        },\n        label: {\n          normal: {\n            textStyle: {\n              fontSize: 14,\n              color: '#7090c8'\n            }\n          }\n        }\n      }\n    ]\n  }\n\n  return (\n    <div className=\"basic-pie-demo\">\n      <ChartPie dataSource={dataSource} option={option} />\n    </div>\n  )\n}\n\nexport default ColorfulPie\n","import normalPie from './normal'\nimport RoseType from './roseType'\nimport RoseTypeHollow from './roseType_hollow'\nimport ColorfulPie from './colorful'\n\nexport default [normalPie, RoseType, RoseTypeHollow, ColorfulPie]\n","import React from 'react'\nimport axios from 'axios'\nimport MainContent from '../../site/template/demo_content'\nimport desc from './desc.json'\nimport demoCodes from './demo/codes.md'\nimport demos from './demo/demos'\nimport { handleArrs } from '../../utils/utils'\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      codes: ''\n    }\n  }\n\n  componentDidMount() {\n    axios.get(demoCodes).then(res => {\n      const { data } = res\n      let codes = data.split('---').filter(Boolean)\n      codes = codes.map(code => {\n        return code\n          .replace(/```jsx/, '')\n          .replace(/```/, '')\n          .trim()\n      })\n      this.setState({ codes })\n    })\n  }\n\n  render() {\n    const { codes } = this.state\n    const mainDesc = desc.main\n    const demoDesc = desc.demo\n    const data = handleArrs(demos, codes, demoDesc)\n    return <MainContent data={data} mainDesc={mainDesc} />\n  }\n}\n","import React from 'react'\nimport { varibles } from '../../../config'\n\nconst { hthtPrefix } = varibles\n\nfunction DocContent(props) {\n  const { children } = props\n  return (\n    <div id={`${hthtPrefix}-main-content`}>\n      <div className=\"content-wrapper\">{children}</div>\n    </div>\n  )\n}\n\nexport default DocContent\n","import React from 'react'\nimport hljs from 'highlight.js'\n\nclass Highlight extends React.Component {\n  constructor(props) {\n    super(props)\n    this.setEl = this.setEl.bind(this)\n  }\n\n  componentDidMount() {\n    this.highlightCode()\n  }\n\n  componentDidUpdate() {\n    this.highlightCode()\n  }\n\n  setEl(el) {\n    this.el = el\n  }\n\n  highlightCode = () => {\n    const nodes = this.el.querySelectorAll('pre code')\n    for (let i = 0; i < nodes.length; i++) {\n      hljs.highlightBlock(nodes[i])\n    }\n  }\n\n  render() {\n    const { children, className, element: Element, innerHTML } = this.props\n    const props = { ref: this.setEl, className }\n\n    if (innerHTML) {\n      props.dangerouslySetInnerHTML = { __html: children }\n      if (Element) {\n        return <Element {...props} />\n      }\n      return <div {...props} />\n    }\n\n    if (Element) {\n      return <Element {...props}>{children}</Element>\n    }\n    return (\n      <pre ref={this.setEl}>\n        <code className={className}>{children}</code>\n      </pre>\n    )\n  }\n}\n\nHighlight.defaultProps = {\n  innerHTML: false,\n  className: null,\n  element: null\n}\n\nexport default Highlight\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { useState } from 'react'\nimport Clipboard from 'react-clipboard.js'\nimport { Tooltip } from 'antd'\nimport { getParents } from '../../../utils/utils'\n\nfunction CodeMeta (props) {\n  const [copyTips, setCopyTips] = useState('复制代码')\n  const [copyClass, setCopyClass] = useState('icon-copy')\n\n  // 复制代码成功\n  const onSuccess = () => {\n    setCopyTips('复制成功')\n    setCopyClass('icon-done')\n  }\n\n  // 鼠标离开复制按钮\n  const leaveCopyBtn = () => {\n    setCopyTips('复制代码')\n    setCopyClass('icon-copy')\n  }\n\n  // 收缩展示代码\n  const toggleCode = e => {\n    const codeBox = getParents(e.target, '.code-box')\n    codeBox.classList.toggle('expend')\n    // eslint-disable-next-line no-unused-expressions\n    window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty()\n  }\n\n  const { item } = props\n  let { desc } = item\n  const defaultDesc = {\n    title: '',\n    detail: ''\n  }\n\n  if (!desc) {\n    desc = defaultDesc\n  }\n\n  const { title } = desc // demo 标题\n  const { detail } = desc // demo 详情\n\n  return (\n    <section className='code-box-meta'>\n      <div className='code-box-title'>\n        <b>{title}</b>\n      </div>\n      <div className='code-box-description'>\n        <div>\n          <p>{detail}</p>\n        </div>\n      </div>\n      <div className='code-box-actions'>\n        <Clipboard data-clipboard-text={item.code} onSuccess={onSuccess}>\n          <Tooltip title={copyTips}>\n            <i className={copyClass} onMouseLeave={leaveCopyBtn} />\n          </Tooltip>\n        </Clipboard>\n\n        <Tooltip title='展开代码'>\n          <i className='icon-expend' onClick={toggleCode} />\n        </Tooltip>\n      </div>\n    </section>\n  )\n}\n\nexport default CodeMeta\n","import React from 'react'\nimport { Table, Tag } from 'antd'\n\nclass ApiTable extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.columns = [\n      {\n        title: '参数',\n        dataIndex: 'param',\n        key: 'param',\n        render: value => {\n          const className = value === 'API' || value === 'FormKey' ? 'title' : ''\n          return <span className={className}>{value}</span>\n        }\n      },\n      {\n        title: '说明',\n        dataIndex: 'explain',\n        key: 'explain'\n      },\n      {\n        title: '类型',\n        key: 'type',\n        dataIndex: 'type',\n        render: tags => (\n          <span>\n            {Array.isArray(tags) &&\n              tags.map((tag, index) => {\n                let color\n                switch (index) {\n                  case 0:\n                    color = '#2db7f5'\n                    break\n                  case 1:\n                    color = '#f50'\n                    break\n                  case 2:\n                    color = '#87d068'\n                    break\n                  default:\n                    color = '#2db7f5'\n                    break\n                }\n                return (\n                  <Tag color={color} key={index}>\n                    {tag}\n                  </Tag>\n                )\n              })}\n          </span>\n        )\n      },\n      {\n        title: '默认值',\n        dataIndex: 'default',\n        key: 'default'\n      }\n    ]\n  }\n\n  render() {\n    const { dataSource } = this.props\n    return (\n      <div className=\"api-container\">\n        <Table columns={this.columns} dataSource={dataSource} pagination={false} />\n      </div>\n    )\n  }\n}\n\nexport default ApiTable\n","/* eslint-disable react/no-array-index-key */\nimport React from 'react'\nimport { Icon, BackTop } from 'antd'\nimport Highlight from '../highlight'\nimport DocContent from '../doc_content'\nimport CodeMeta from '../code_meta'\nimport ApiTable from '../api_table'\nimport './style.scss'\n\nfunction MainContent(props) {\n  const { mainDesc, data, apiData } = props\n\n  return (\n    <DocContent>\n      <article>\n        <section className=\"content-title\">\n          <h1>\n            {mainDesc.value}\n            <span>{mainDesc.name}</span>\n          </h1>\n          <p className=\"main-desc\">{mainDesc.detail}</p>\n          <h2>\n            代码演示\n            <Icon type=\"appstore\" />\n          </h2>\n        </section>\n        <div className=\"code-box-wrapper\">\n          {data.map((item, index) => {\n            return (\n              <section className=\"code-box\" key={index}>\n                <section className=\"code-box-demo\">{<item.component />}</section>\n                <CodeMeta item={item} />\n                <section className=\"highlight-wrapper\">\n                  <div className=\"highlight\">\n                    <Highlight className=\"javascript,js,jsx\">{item.code}</Highlight>\n                  </div>\n                </section>\n              </section>\n            )\n          })}\n        </div>\n        <ApiTable dataSource={apiData} />\n      </article>\n      <BackTop target={() => document.getElementById('htht-main-content')} />\n    </DocContent>\n  )\n}\n\nexport default MainContent\n","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./pie/PieSeries\");\n\nrequire(\"./pie/PieView\");\n\nvar createDataSelectAction = require(\"../action/createDataSelectAction\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar pieLayout = require(\"./pie/pieLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\ncreateDataSelectAction('pie', [{\n  type: 'pieToggleSelect',\n  event: 'pieselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'pieSelect',\n  event: 'pieselected',\n  method: 'select'\n}, {\n  type: 'pieUnSelect',\n  event: 'pieunselected',\n  method: 'unSelect'\n}]);\necharts.registerVisual(dataColor('pie'));\necharts.registerLayout(zrUtil.curry(pieLayout, 'pie'));\necharts.registerProcessor(dataFilter('pie'));","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar echarts = require(\"../../echarts\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _number = require(\"../../util/number\");\n\nvar getPercentWithPrecision = _number.getPercentWithPrecision;\n\nvar dataSelectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawAttr = _dataProvider.retrieveRawAttr;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar PieSeries = echarts.extendSeriesModel({\n  type: 'series.pie',\n  // Overwrite\n  init: function init(option) {\n    PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    };\n\n    this.updateSelectedMap(this._createSelectableList());\n\n    this._defaultLabelLine(option);\n  },\n  // Overwrite\n  mergeOption: function mergeOption(newOption) {\n    PieSeries.superCall(this, 'mergeOption', newOption);\n    this.updateSelectedMap(this._createSelectableList());\n  },\n  getInitialData: function getInitialData(option, ecModel) {\n    return createListSimply(this, ['value']);\n  },\n  _createSelectableList: function _createSelectableList() {\n    var data = this.getRawData();\n    var valueDim = data.mapDimension('value');\n    var targetList = [];\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      targetList.push({\n        name: data.getName(i),\n        value: data.get(valueDim, i),\n        selected: retrieveRawAttr(data, i, 'selected')\n      });\n    }\n\n    return targetList;\n  },\n  // Overwrite\n  getDataParams: function getDataParams(dataIndex) {\n    var data = this.getData();\n    var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  },\n  _defaultLabelLine: function _defaultLabelLine(option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    // 最小角度改为0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // 选中时扇区偏移量\n    selectedOffset: 10,\n    // 高亮扇区偏移量\n    hoverOffset: 10,\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // 选择模式，默认关闭，可选single，multiple\n    // selectedMode: false,\n    // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    label: {\n      // If rotate around circle\n      rotate: false,\n      show: true,\n      // 'outer', 'inside', 'center'\n      position: 'outer' // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n      // 默认使用全局文本样式，详见TEXTSTYLE\n      // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // 引导线两段中的第一段长度\n      length: 15,\n      // 引导线两段中的第二段长度\n      length2: 15,\n      smooth: false,\n      lineStyle: {\n        // color: 各异,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasing: 'cubicOut'\n  }\n});\nzrUtil.mixin(PieSeries, dataSelectableMixin);\nvar _default = PieSeries;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar List = require(\"../../data/List\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar extend = _util.extend;\nvar isArray = _util.isArray;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n *\n * @param {module:echarts/model/Series} seriesModel\n * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n *        The options in opt, see `echarts/data/helper/createDimensions`\n * @param {Array.<string>} [nameList]\n * @return {module:echarts/data/List}\n */\n\nfunction _default(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Data selectable mixin for chart series.\n * To eanble data select, option of series must have `selectedMode`.\n * And each data item will use `selected` to toggle itself selected status\n */\n\n\nvar _default = {\n  /**\n   * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n   *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n   *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n   */\n  updateSelectedMap: function updateSelectedMap(targetList) {\n    this._targetList = zrUtil.isArray(targetList) ? targetList.slice() : [];\n    this._selectTargetMap = zrUtil.reduce(targetList || [], function (targetMap, target) {\n      targetMap.set(target.name, target);\n      return targetMap;\n    }, zrUtil.createHashMap());\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  // PENGING If selectedMode is null ?\n  select: function select(name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      this._selectTargetMap.each(function (target) {\n        target.selected = false;\n      });\n    }\n\n    target && (target.selected = true);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  unSelect: function unSelect(name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n    // selectedMode !== 'single' && target && (target.selected = false);\n\n    target && (target.selected = false);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  toggleSelected: function toggleSelected(name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n    if (target != null) {\n      this[target.selected ? 'unSelect' : 'select'](name, id);\n      return target.selected;\n    }\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  isSelected: function isSelected(name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    return target && target.selected;\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Series} seriesModel\n * @param {boolean} hasAnimation\n * @inner\n */\n\n\nfunction updateDataSelected(uid, seriesModel, hasAnimation, api) {\n  var data = seriesModel.getData();\n  var dataIndex = this.dataIndex;\n  var name = data.getName(dataIndex);\n  var selectedOffset = seriesModel.get('selectedOffset');\n  api.dispatchAction({\n    type: 'pieToggleSelect',\n    from: uid,\n    name: name,\n    seriesId: seriesModel.id\n  });\n  data.each(function (idx) {\n    toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n  });\n}\n/**\n * @param {module:zrender/graphic/Sector} el\n * @param {Object} layout\n * @param {boolean} isSelected\n * @param {number} selectedOffset\n * @param {boolean} hasAnimation\n * @inner\n */\n\n\nfunction toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var offset = isSelected ? selectedOffset : 0;\n  var position = [dx * offset, dy * offset];\n  hasAnimation // animateTo will stop revious animation like update transition\n  ? el.animate().when(200, {\n    position: position\n  }).start('bounceOut') : el.attr('position', position);\n}\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction PiePiece(data, idx) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: 2\n  });\n  var polyline = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(sector);\n  this.add(polyline);\n  this.add(text);\n  this.updateData(data, idx, true);\n}\n\nvar piePieceProto = PiePiece.prototype;\n\npiePieceProto.updateData = function (data, idx, firstCreate) {\n  var sector = this.childAt(0);\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    var animationType = seriesModel.getShallow('animationType');\n\n    if (animationType === 'scale') {\n      sector.shape.r = layout.r0;\n      graphic.initProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, idx);\n    } // Expansion\n    else {\n        sector.shape.endAngle = layout.startAngle;\n        graphic.updateProps(sector, {\n          shape: {\n            endAngle: layout.endAngle\n          }\n        }, seriesModel, idx);\n      }\n  } else {\n    if (animationTypeUpdate === 'expansion') {\n      // Sectors are set to be target shape and an overlaying clipPath is used for animation\n      sector.setShape(sectorShape);\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n  } // Update common style\n\n\n  var visualColor = data.getItemVisual(idx, 'color');\n  sector.useStyle(zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: visualColor\n  }, itemModel.getModel('itemStyle').getItemStyle()));\n  sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n  toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(null, idx), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n  var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n  this._updateLabel(data, idx, withAnimation);\n\n  this.highDownOnUpdate = itemModel.get('hoverAnimation') && seriesModel.isAnimationEnabled() ? function (fromState, toState) {\n    if (toState === 'emphasis') {\n      labelLine.ignore = labelLine.hoverIgnore;\n      labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n      // Or it may stopped on the wrong shape\n\n      sector.stopAnimation(true);\n      sector.animateTo({\n        shape: {\n          r: layout.r + seriesModel.get('hoverOffset')\n        }\n      }, 300, 'elasticOut');\n    } else {\n      labelLine.ignore = labelLine.normalIgnore;\n      labelText.ignore = labelText.normalIgnore;\n      sector.stopAnimation(true);\n      sector.animateTo({\n        shape: {\n          r: layout.r\n        }\n      }, 300, 'elasticOut');\n    }\n  } : null;\n  graphic.setHoverStyle(this);\n};\n\npiePieceProto._updateLabel = function (data, idx, withAnimation) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n\n  if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n    labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n    return;\n  }\n\n  var targetLineShape = {\n    points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n  };\n  var targetTextStyle = {\n    x: labelLayout.x,\n    y: labelLayout.y\n  };\n\n  if (withAnimation) {\n    graphic.updateProps(labelLine, {\n      shape: targetLineShape\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: targetTextStyle\n    }, seriesModel, idx);\n  } else {\n    labelLine.attr({\n      shape: targetLineShape\n    });\n    labelText.attr({\n      style: targetTextStyle\n    });\n  }\n\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var labelLineModel = itemModel.getModel('labelLine');\n  var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: data.getName(idx),\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  var smooth = labelLineModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.4;\n  }\n\n  labelLine.setShape({\n    smooth: smooth\n  });\n};\n\nzrUtil.inherits(PiePiece, graphic.Group); // Pie view\n\nvar PieView = ChartView.extend({\n  type: 'pie',\n  init: function init() {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  },\n  render: function render(seriesModel, ecModel, api, payload) {\n    if (payload && payload.from === this.uid) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var hasAnimation = ecModel.get('animation');\n    var isFirstRender = !oldData;\n    var animationType = seriesModel.get('animationType');\n    var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n    var onSectorClick = zrUtil.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n    var selectedMode = seriesModel.get('selectedMode');\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n      if (isFirstRender && animationType !== 'scale') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      selectedMode && piePiece.on('click', onSectorClick);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n      if (!isFirstRender && animationTypeUpdate !== 'transition') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      piePiece.updateData(data, newIdx);\n      piePiece.off('click');\n      selectedMode && piePiece.on('click', onSectorClick);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n\n    if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n      var removeClipPath = zrUtil.bind(group.removeClipPath, group);\n      group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n    } else {\n      // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  },\n  dispose: function dispose() {},\n  _createClipPath: function _createClipPath(cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: cx,\n        cy: cy,\n        r0: 0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: startAngle,\n        clockwise: clockwise\n      }\n    });\n    var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n    initOrUpdate(clipPath, {\n      shape: {\n        endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n      }\n    }, seriesModel, cb);\n    return clipPath;\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function containPoint(point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = PieView;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nfunction _default(seriesType, actionInfos) {\n  zrUtil.each(actionInfos, function (actionInfo) {\n    actionInfo.update = 'updateView';\n    /**\n     * @payload\n     * @property {string} seriesName\n     * @property {string} name\n     */\n\n    echarts.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      ecModel.eachComponent({\n        mainType: 'series',\n        subType: seriesType,\n        query: payload\n      }, function (seriesModel) {\n        if (seriesModel[actionInfo.method]) {\n          seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n        }\n\n        var data = seriesModel.getData(); // Create selected map\n\n        data.each(function (idx) {\n          var name = data.getName(idx);\n          selected[name] = seriesModel.isSelected(name) || false;\n        });\n      });\n      return {\n        name: payload.name,\n        selected: selected,\n        seriesId: payload.seriesId\n      };\n    });\n  });\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Pick color from palette for each data item.\n// Applicable for charts that require applying color palette\n// in data level (like pie, funnel, chord).\n\nfunction _default(seriesType) {\n  return {\n    getTargetSeries: function getTargetSeries(ecModel) {\n      // Pie and funnel may use diferrent scope\n      var paletteScope = {};\n      var seiresModelMap = createHashMap();\n      ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        seriesModel.__paletteScope = paletteScope;\n        seiresModelMap.set(seriesModel.uid, seriesModel);\n      });\n      return seiresModelMap;\n    },\n    reset: function reset(seriesModel, ecModel) {\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      dataAll.each(function (rawIdx) {\n        var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n        var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n        var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n        var itemModel;\n\n        if (!singleDataColor || !singleDataBorderColor) {\n          // FIXME Performance\n          itemModel = dataAll.getItemModel(rawIdx);\n        }\n\n        if (!singleDataColor) {\n          var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Legend may use the visual info in data before processed\n\n          dataAll.setItemVisual(rawIdx, 'color', color); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'color', color);\n          }\n        } else {\n          // Set data all color for legend\n          dataAll.setItemVisual(rawIdx, 'color', singleDataColor);\n        }\n\n        if (!singleDataBorderColor) {\n          var borderColor = itemModel.get('itemStyle.borderColor'); // Legend may use the visual info in data before processed\n\n          dataAll.setItemVisual(rawIdx, 'borderColor', borderColor); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n          }\n        } else {\n          // Set data all borderColor for legend\n          dataAll.setItemVisual(rawIdx, 'borderColor', singleDataBorderColor);\n        }\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nvar labelLayout = require(\"./labelLayout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction _default(seriesType, ecModel, api, payload) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r\n        });\n        return;\n      } // FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？\n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            layout.angle = angle;\n            layout.startAngle = startAngle + dir * idx * angle;\n            layout.endAngle = startAngle + dir * (idx + 1) * angle;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n            layout.startAngle = currentAngle;\n            layout.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n\n    labelLayout(seriesModel, r, width, height);\n  });\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar textContain = require(\"zrender/lib/contain/text\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\n\n\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  });\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  }\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // right-side\n    ? Number.MAX_VALUE // down\n    : 0 // up\n    : isDownList // left-side\n    ? Number.MAX_VALUE // down\n    : 0; // up\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // right-down, left-down\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // right-up, left-up\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight) {\n  var leftList = [];\n  var rightList = [];\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (labelLayoutList[i].x < cx) {\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    var linePoints = labelLayoutList[i].linePoints;\n\n    if (linePoints) {\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (labelLayoutList[i].x < cx) {\n        linePoints[2][0] = labelLayoutList[i].x + 3;\n      } else {\n        linePoints[2][0] = labelLayoutList[i].x - 3;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = labelLayoutList[i].y;\n      linePoints[1][0] = linePoints[2][0] + dist;\n    }\n  }\n}\n\nfunction isPositionCenter(layout) {\n  // Not change x for center label\n  return layout.position === 'center';\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight, sum) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    var labelLineLen2 = labelLineModel.get('length2');\n\n    if (layout.angle < minShowLabelRadian) {\n      return;\n    }\n\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n        textX = x3 + (dx < 0 ? -5 : 5);\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : dx > 0 ? 'left' : 'right';\n    }\n\n    var font = labelModel.getFont();\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight);\n  }\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function reset(seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}\n\nmodule.exports = _default;"],"sourceRoot":""}